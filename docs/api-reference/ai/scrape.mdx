---
title: "AI Scraper"
api: "POST https://api.jigsawstack.com/v1/ai/scrape"
description: "Scrape any website instantly and get consistent structured data in seconds without writing any css selector code"
---

import AIScrapeSnippet from "/snippets/code-req-examples/ai-scrape.mdx";
import BasicResponse from "/snippets/helpers/basic-response.mdx";

## Request Parameters

### Body

<ParamField body="url" type="string">
  URL of the page to scrape. Either `url` or `html` is required, but not both.
</ParamField>

<ParamField body="html" type="string">
  HTML content to scrape. Either `url` or `html` is required, but not both.
</ParamField>

<ParamField body="element_prompts" type="array<string> | object">
  Items on the page to scrape (maximum 5). Can be an array of strings (e.g. `["Plan price", "Plan title"]`) or an object with key-value pairs (e.g. `{"price": "Plan price", "title": "Plan title"}`).
</ParamField>

<ParamField body="scroll" type="boolean" default="false">
  When enabled, automatically scrolls through the entire page to return full-page results.
</ParamField>

<ParamField body="selectors" type="array<string>">
  CSS elements on the page to scrape. E.g. "h2.title", "div.price"
</ParamField>

<ParamField body="root_element_selector" type="string" default="main">
  CSS selector to limit the scope of scraping to a specific element and its children
</ParamField>

<ParamField body="page_position" type="number" default="1">
  For pagination, the current page number (minimum: 1)
</ParamField>

<ParamField body="features" type="array<string>" default={["meta", "link"]}>
  Features to extract from the page. Available options:
  <ul>
    <li>`meta` - Extract page metadata (title, description, keywords, og_image)</li>
    <li>`link` - Extract links detected on the page</li>
  </ul>
</ParamField>

<ParamField body="advance_config" type="object">
  Advanced configurations
  <Expandable title="Properties">
    <ParamField body="console" type="boolean">
      Tracks console messages emitted when JavaScript within the page calls console API methods
    </ParamField>
    <ParamField body="network" type="boolean">
      Tracks network response information such as URL, method, status, headers, and body
    </ParamField>
    <ParamField body="cookies" type="boolean">
      Tracks cookie information
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="http_headers" type="object">
  Custom HTTP headers to send with requests (key-value pairs)
</ParamField>

<ParamField body="reject_request_pattern" type="array<string>">
  Array of patterns to intercept and block requests (e.g., ["jpg", "png"])
</ParamField>

<ParamField body="goto_options" type="object">
  Custom page-load behavior settings
  <Expandable title="Properties">
    <ParamField body="timeout" type="number" default="30000">
      Custom timeout in milliseconds (maximum: 120000, or 2 minutes)
    </ParamField>
    <ParamField body="wait_until" type="string" default="networkidle2">
      Page load event to wait for:
      <ul>
        <li>`load` - Wait until the load event is fired</li>
        <li>`domcontentloaded` - Wait until the DOMContentLoaded event is fired</li>
        <li>`networkidle0` - Wait until there are no network connections for at least 500ms</li>
        <li>`networkidle2` - Wait until there are no more than 2 network connections for at least 500ms</li>
      </ul>
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="wait_for" type="object">
  Wait condition before scraping
  <Expandable title="Properties">
    <ParamField body="mode" type="string" required>
      Type of waiting condition:
      <ul>
        <li>`timeout` - Wait for a specified time</li>
        <li>`selector` - Wait for a specified CSS selector to appear</li>
        <li>`function` - Wait for a specified function to return true</li>
      </ul>
    </ParamField>
    <ParamField body="value" type="string|number" required>
      The value corresponding to the selected mode:
      <ul>
        <li>For `timeout`: Number of milliseconds to wait (maximum: 60000)</li>
        <li>For `selector`: CSS selector to wait for (e.g., "h2.title")</li>
        <li>For `function`: JavaScript function as a string (e.g., "() => document.querySelector('h2')")</li>
      </ul>
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="cookies" type="array<object>">
  Cookies to set for the page request
  <Expandable title="Cookie Object Properties">
    <ParamField body="name" type="string" required>
      Only the following cookies are allowed: `ADSHUFFLER`, `AWSALB`, `AWSALBCORS`, `AWSALBTG`,
      `AWSALBTGCORS`, `CF_CLEARANCE`, `CONSENT`, `CUSTOMER_CONTEXT`, `LANG`, `REF`, `REMOVAL`,
      `VISITS`, `VISIT_COUNT`
    </ParamField>
    <ParamField body="value" type="string" required>
      Cookie value
    </ParamField>
    <ParamField body="domain" type="string">
      Cookie domain (either `url` or `domain` is required)
    </ParamField>
    <ParamField body="url" type="string">
      The URL to associate with the cookie (either `url` or `domain` is required)
    </ParamField>
    <ParamField body="secure" type="boolean">
      Whether the cookie is secure (HTTPS only)
    </ParamField>
    <ParamField body="httpOnly" type="boolean">
      Whether the cookie is HTTP-only
    </ParamField>
    <ParamField body="sameParty" type="boolean">
      Whether the cookie is same-party
    </ParamField>
    <ParamField body="expires" type="number">
      Cookie expiration timestamp
    </ParamField>
    <ParamField body="priority" type="string">
      Cookie priority: "Low", "High", or "Medium"
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="size_preset" type="string">
  Predefined screen size preset to use instead of specifying width and height manually. Supported values include:
  <ul>
    <li>`QVGA` - 320×240</li>
    <li>`VGA` - 640×480</li>
    <li>`SVGA` - 800×600</li>
    <li>`HD` - 1280×720</li>
    <li>`HD+` - 1600×900</li>
    <li>`SXGA` - 1280×1024</li>
    <li>`FHD` - 1920×1080</li>
    <li>`2K` - 2048×1080</li>
    <li>`2K QHD` - 2560×1440</li>
    <li>`5K` - 5120×2880</li>
    <li>`4K UHD` - 3840×2160</li>
  </ul>
  See the full list of screen size presets [here](/docs/additional-resources/size-preset)
</ParamField>

<ParamField body="is_mobile" type="boolean" default="false">
  Whether to emulate a mobile device viewport
</ParamField>

<ParamField body="scale" type="number" default="1">
  Device scale factor (minimum: 1)
</ParamField>

<ParamField body="width" type="number" default="1920">
  Viewport width in pixels
</ParamField>

<ParamField body="height" type="number" default="1080">
  Viewport height in pixels
</ParamField>

<ParamField body="force_rotate_proxy" type="boolean">
  Whether to force proxy rotation for each request (incurs additional costs)
</ParamField>

<ParamField body="byo_proxy" type="object">
  Bring-your-own-proxy configuration
  <Expandable title="Properties">
    <ParamField body="server" type="string" required>
      Proxy server URL (e.g., "https://username:password@proxy.example.com:8080")
    </ParamField>
    <ParamField body="auth" type="object">
      Authentication credentials (optional if included in server URL)
      <Expandable title="Properties">
        <ParamField body="username" type="string" required>
          Proxy username
        </ParamField>
        <ParamField body="password" type="string" required>
          Proxy password
        </ParamField>
      </Expandable>
    </ParamField>
  </Expandable>
</ParamField>

<Snippet file="header.mdx" />

## Response Structure

<BasicResponse />

<ResponseField name="data" type="array<object>">
  Detailed scrape data from the page
  <Expandable title="Data Object Structure">
    <ResponseField name="key" type="string">
      The element prompt this data relates to
    </ResponseField>
    <ResponseField name="selector" type="string">
      The CSS selector used to find this element
    </ResponseField>
    <ResponseField name="results" type="array<object>">
      Array of matched elements with their details
      <Expandable title="Result Object">
        <ResponseField name="html" type="string">
          The HTML content of the matched element
        </ResponseField>
        <ResponseField name="text" type="string">
          The text content of the matched element
        </ResponseField>
        <ResponseField name="attributes" type="array<object>">
          Array of HTML attributes on the matched element
          <Expandable title="Attribute Object">
            <ResponseField name="name" type="string">
              The attribute name
            </ResponseField>
            <ResponseField name="value" type="string">
              The attribute value
            </ResponseField>
          </Expandable>
        </ResponseField>
      </Expandable>
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="page_position" type="number">
  The current page position when paginating through results
</ResponseField>

<ResponseField name="page_position_length" type="number">
  The total number of pages available
</ResponseField>

<ResponseField name="context" type="record<string, array<string>>">
  A map of element prompt keys to arrays of extracted text content from matched elements
</ResponseField>

<ResponseField name="selectors" type="record<string, array<string>>">
  A map of element prompt keys to arrays of CSS selectors that were used to find matching elements
</ResponseField>

<ResponseField name="link" type="array<object>">
  Links detected on the page
  <Expandable title="Link Object">
    <ResponseField name="href" type="string">
      The URL of the link
    </ResponseField>
    <ResponseField name="text" type="string">
      The text description of the link
    </ResponseField>
    <ResponseField name="type" type="enum">
      The type of link
      - "a" for anchor links
      - "img" for image links
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="advance_config" type="object | undefined">
  Captured browser data if enabled in advance_config
  <Expandable title="Properties">
    <ResponseField name="console" type="any">
      Console logs captured during scraping
    </ResponseField>
    <ResponseField name="network" type="object">
      Network requests captured during scraping
      <Expandable title="Network Object">
        <ResponseField name="url" type="string">
          The URL of the network request
        </ResponseField>
        <ResponseField name="method" type="string">
          The HTTP method used
        </ResponseField>
        <ResponseField name="status" type="number">
          The HTTP status code
        </ResponseField>
        <ResponseField name="headers" type="Record<string, string>">
          The request/response headers
        </ResponseField>
        <ResponseField name="body" type="string | null">
          The request/response body
        </ResponseField>
        <ResponseField name="type" type="enum">
          The type of network event
          - "request" for outgoing requests
          - "response" for incoming responses
        </ResponseField>
      </Expandable>
    </ResponseField>
    <ResponseField name="cookies" type="any">
      Cookies captured during scraping
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="meta" type="object | undefined">
  Metadata about the page, such as title, description, keywords, and Open Graph image
  <Expandable title="Meta Object">
    <ResponseField name="title" type="string | undefined">
      The page title
    </ResponseField>
    <ResponseField name="description" type="string | undefined">
      The page description
    </ResponseField>
    <ResponseField name="keywords" type="string | undefined">
      The page keywords
    </ResponseField>
    <ResponseField name="og_image" type="string | undefined">
      The Open Graph image URL
    </ResponseField>
  </Expandable>
</ResponseField>


<AIScrapeSnippet />
