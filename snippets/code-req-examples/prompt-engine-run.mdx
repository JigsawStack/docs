
    <RequestExample>
    ```javascript Javascript
import { JigsawStack } from "jigsawstack";

const jigsaw = JigsawStack({ apiKey: "your-api-key" });

const response = await jigsaw.prompt_engine.run({
      "prompt": "Tell me a story about {about}",
      "inputs": [
            {
                  "key": "about",
                  "optional": true,
                  "initial_value": "Leaning Tower of Pisa"
            }
      ],
      "return_prompt": "Return the result in a markdown format",
      "prompt_guard": [
            "sexual_content",
            "defamation"
      ],
      "input_values": {
            "about": "Santorini"
      },
      "id": "0073d008-da9b-4c27-90a8-0240f3ecd4f5"
})
    ```
    ```python Python
from jigsawstack import JigsawStack

jigsaw = JigsawStack(api_key="your-api-key")

response = jigsaw.prompt_engine.run({
      "prompt": "Tell me a story about {about}",
      "inputs": [
            {
                  "key": "about",
                  "optional": True,
                  "initial_value": "Leaning Tower of Pisa"
            }
      ],
      "return_prompt": "Return the result in a markdown format",
      "prompt_guard": [
            "sexual_content",
            "defamation"
      ],
      "input_values": {
            "about": "Santorini"
      },
      "id": "0073d008-da9b-4c27-90a8-0240f3ecd4f5"
})
    ```
    ```bash Curl
curl https://api.jigsawstack.com//v1/prompt_engine/run?id=0073d008-da9b-4c27-90a8-0240f3ecd4f5 \
 -X POST \
 -H 'Content-Type: application/json' \
 -H 'x-api-key: your-api-key' \
 -d '{"prompt":"Tell me a story about {about}","inputs":[{"key":"about","optional":true,"initial_value":"Leaning Tower of Pisa"}],"return_prompt":"Return the result in a markdown format","prompt_guard":["sexual_content","defamation"],"input_values":{"about":"Santorini"}}'
    ```
    ```php PHP
<?php
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, 'https://api.jigsawstack.com//v1/prompt_engine/run?id=0073d008-da9b-4c27-90a8-0240f3ecd4f5');
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'POST');
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Content-Type: application/json',
    'x-api-key: your-api-key',
]);
curl_setopt($ch, CURLOPT_POSTFIELDS, '{"prompt":"Tell me a story about {about}","inputs":[{"key":"about","optional":true,"initial_value":"Leaning Tower of Pisa"}],"return_prompt":"Return the result in a markdown format","prompt_guard":["sexual_content","defamation"],"input_values":{"about":"Santorini"}}');

$response = curl_exec($ch);

curl_close($ch);

    ```
    ```ruby Ruby
require 'net/http'
require 'json'

uri = URI('https://api.jigsawstack.com//v1/prompt_engine/run')
params = {
  :id => '0073d008-da9b-4c27-90a8-0240f3ecd4f5',
}
uri.query = URI.encode_www_form(params)

req = Net::HTTP::Post.new(uri)
req.content_type = 'application/json'
req['x-api-key'] = 'your-api-key'

req.body = {
  'prompt' => 'Tell me a story about {about}',
  'inputs' => [
    {
      'key' => 'about',
      'optional' => true,
      'initial_value' => 'Leaning Tower of Pisa'
    }
  ],
  'return_prompt' => 'Return the result in a markdown format',
  'prompt_guard' => [
    'sexual_content',
    'defamation'
  ],
  'input_values' => {
    'about' => 'Santorini'
  }
}.to_json

req_options = {
  use_ssl: uri.scheme == 'https'
}
res = Net::HTTP.start(uri.hostname, uri.port, req_options) do |http|
  http.request(req)
end

    ```
    ```go Go
package main

import (
	"fmt"
	"io"
	"log"
	"net/http"
	"strings"
)

func main() {
	client := &http.Client{}
	var data = strings.NewReader(`{"prompt":"Tell me a story about {about}","inputs":[{"key":"about","optional":true,"initial_value":"Leaning Tower of Pisa"}],"return_prompt":"Return the result in a markdown format","prompt_guard":["sexual_content","defamation"],"input_values":{"about":"Santorini"}}`)
	req, err := http.NewRequest("POST", "https://api.jigsawstack.com//v1/prompt_engine/run?id=0073d008-da9b-4c27-90a8-0240f3ecd4f5", data)
	if err != nil {
		log.Fatal(err)
	}
	req.Header.Set("Content-Type", "application/json")
	req.Header.Set("x-api-key", "your-api-key")
	resp, err := client.Do(req)
	if err != nil {
		log.Fatal(err)
	}
	defer resp.Body.Close()
	bodyText, err := io.ReadAll(resp.Body)
	if err != nil {
		log.Fatal(err)
	}
	fmt.Printf("%s\n", bodyText)
}

    ```
    ```java Java
import java.io.IOException;
import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpRequest.BodyPublishers;
import java.net.http.HttpResponse;

HttpClient client = HttpClient.newHttpClient();

HttpRequest request = HttpRequest.newBuilder()
    .uri(URI.create("https://api.jigsawstack.com//v1/prompt_engine/run?id=0073d008-da9b-4c27-90a8-0240f3ecd4f5"))
    .POST(BodyPublishers.ofString("{\"prompt\":\"Tell me a story about {about}\",\"inputs\":[{\"key\":\"about\",\"optional\":true,\"initial_value\":\"Leaning Tower of Pisa\"}],\"return_prompt\":\"Return the result in a markdown format\",\"prompt_guard\":[\"sexual_content\",\"defamation\"],\"input_values\":{\"about\":\"Santorini\"}}"))
    .setHeader("Content-Type", "application/json")
    .setHeader("x-api-key", "your-api-key")
    .build();

HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());

    ```
    ```swift Swift
import Foundation

let jsonData = [
    "prompt": "Tell me a story about {about}",
    "inputs": [
        [
            "key": "about",
            "optional": true,
            "initial_value": "Leaning Tower of Pisa"
        ]
    ],
    "return_prompt": "Return the result in a markdown format",
    "prompt_guard": [
        "sexual_content",
        "defamation"
    ],
    "input_values": [
        "about": "Santorini"
    ]
] as [String : Any]
let data = try! JSONSerialization.data(withJSONObject: jsonData, options: [])

let url = URL(string: "https://api.jigsawstack.com//v1/prompt_engine/run?id=0073d008-da9b-4c27-90a8-0240f3ecd4f5")!
let headers = [
    "Content-Type": "application/json",
    "x-api-key": "your-api-key"
]

var request = URLRequest(url: url)
request.httpMethod = "POST"
request.allHTTPHeaderFields = headers
request.httpBody = data as Data

let task = URLSession.shared.dataTask(with: request) { (data, response, error) in
    if let error = error {
        print(error)
    } else if let data = data {
        let str = String(data: data, encoding: .utf8)
        print(str ?? "")
    }
}

task.resume()

    ```
    ```dart Dart
import 'package:http/http.dart' as http;

void main() async {
  final headers = {
    'Content-Type': 'application/json',
    'x-api-key': 'your-api-key',
  };

  final params = {
    'id': '0073d008-da9b-4c27-90a8-0240f3ecd4f5',
  };

  final data = '{"prompt":"Tell me a story about {about}","inputs":[{"key":"about","optional":true,"initial_value":"Leaning Tower of Pisa"}],"return_prompt":"Return the result in a markdown format","prompt_guard":["sexual_content","defamation"],"input_values":{"about":"Santorini"}}';

  final url = Uri.parse('https://api.jigsawstack.com//v1/prompt_engine/run')
      .replace(queryParameters: params);

  final res = await http.post(url, headers: headers, body: data);
  final status = res.statusCode;
  if (status != 200) throw Exception('http.post error: statusCode= $status');

  print(res.body);
}

    ```
    ```kotlin Kotlin
import java.io.IOException
import okhttp3.MediaType.Companion.toMediaType
import okhttp3.OkHttpClient
import okhttp3.Request
import okhttp3.RequestBody.Companion.toRequestBody

val client = OkHttpClient()

val MEDIA_TYPE = "application/json".toMediaType()

val requestBody = "{\"prompt\":\"Tell me a story about {about}\",\"inputs\":[{\"key\":\"about\",\"optional\":true,\"initial_value\":\"Leaning Tower of Pisa\"}],\"return_prompt\":\"Return the result in a markdown format\",\"prompt_guard\":[\"sexual_content\",\"defamation\"],\"input_values\":{\"about\":\"Santorini\"}}"

val request = Request.Builder()
  .url("https://api.jigsawstack.com//v1/prompt_engine/run?id=0073d008-da9b-4c27-90a8-0240f3ecd4f5")
  .post(requestBody.toRequestBody(MEDIA_TYPE))
  .header("Content-Type", "application/json")
  .header("x-api-key", "your-api-key")
  .build()

client.newCall(request).execute().use { response ->
  if (!response.isSuccessful) throw IOException("Unexpected code $response")
  response.body!!.string()
}

    ```
    ```csharp C#
using System.Net.Http;
using System.Net.Http.Headers;

HttpClient client = new HttpClient();

HttpRequestMessage request = new HttpRequestMessage(HttpMethod.Post, "https://api.jigsawstack.com//v1/prompt_engine/run?id=0073d008-da9b-4c27-90a8-0240f3ecd4f5");

request.Headers.Add("x-api-key", "your-api-key");

request.Content = new StringContent("{\"prompt\":\"Tell me a story about {about}\",\"inputs\":[{\"key\":\"about\",\"optional\":true,\"initial_value\":\"Leaning Tower of Pisa\"}],\"return_prompt\":\"Return the result in a markdown format\",\"prompt_guard\":[\"sexual_content\",\"defamation\"],\"input_values\":{\"about\":\"Santorini\"}}");
request.Content.Headers.ContentType = new MediaTypeHeaderValue("application/json");

HttpResponseMessage response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
string responseBody = await response.Content.ReadAsStringAsync();

    ```
    </RequestExample>
    <ResponseExample>
    ```json Response
{
      "success": true,
      "result": "Okay, here's a story about Santorini, formatted in Markdown:\n\n# The Whispers of Oia\n\nThe Aegean Sea, a shimmering sapphire under the relentless Grecian sun, lapped gently against the black volcanic sand of Perissa. Eleni, a young woman with eyes the color of the deep sea and hair like spun moonlight, traced patterns in the sand with her bare toes. She wasn't a tourist, though she could easily pass for one. Eleni was a daughter of Santorini, her roots intertwined with the island's volcanic soil and its ancient, whispered secrets.\n\nShe worked at a small taverna in Oia, the village perched precariously on the caldera's edge, a cascade of whitewashed houses clinging to the cliff face. Tourists flocked there every evening, drawn by the promise of the world-famous sunset. They came to capture the perfect photo, to sip wine and whisper sweet nothings as the sun dipped below the horizon, painting the sky in hues of fiery orange, passionate pink, and melancholic violet.\n\nBut Eleni knew the sunset held more than just beauty. It held the echoes of a cataclysm, the memory of the Minoan eruption that had reshaped the island and, some said, inspired the legend of Atlantis. She felt it in the air, a subtle hum that vibrated through the ancient stones beneath her feet.\n\nOne day, an old fisherman named Yiorgos, his face etched with the wisdom of the sea, told her a story. \"The caldera,\" he rasped, his voice like the rustling of dry leaves, \"it remembers. It remembers the screams, the fire, the destruction. And sometimes, if you listen closely, you can hear its whispers.\"\n\nEleni, intrigued, began to spend her evenings after work on the caldera's edge, away from the crowds. She sat in silence, letting the wind whip through her hair, listening for the whispers Yiorgos had spoken of. At first, she heard nothing but the crashing of waves and the distant laughter of tourists.\n\nThen, one night, as the moon hung like a silver coin in the inky sky, she heard it. A faint, almost imperceptible murmur, like the sigh of a sleeping giant. It was a low, resonant sound that seemed to emanate from the very heart of the island.\n\nThe whispers spoke of a lost civilization, of a people who had lived in harmony with the sea, who had built magnificent cities and worshipped the sun. They spoke of a sudden, devastating end, of a world swallowed by fire and water.\n\nEleni realized that the whispers weren't just a legend. They were a warning. The volcano, though dormant, was still alive. The island, beautiful and serene, was also fragile and vulnerable.\n\nShe began to share her knowledge with the tourists, not to scare them, but to remind them of the power of nature and the importance of respecting the land. She told them the stories of the Minoans, of the eruption, of the whispers she had heard.\n\nSome dismissed her as a crazy local, but others listened, captivated by her passion and her connection to the island. They began to see Santorini not just as a beautiful backdrop for their vacation photos, but as a place with a rich history and a powerful spirit.\n\nEleni continued to listen to the whispers of Oia, becoming a guardian of the island's secrets, a bridge between the past and the present. She knew that Santorini would always be a place of beauty and wonder, but she also knew that it was a place of power and mystery, a place where the echoes of the past could still be heard, if you only knew how to listen. And as the sun set each evening, painting the sky in its breathtaking colors, Eleni would stand on the caldera's edge, listening to the whispers, and remembering the lessons of the past, hoping to protect the future of her beloved island.\n",
      "message": "It is recommended to store the prompt engine and execute it using the ID rather than running it directly for the best performance and reliability. Learn more: https://jigsawstack.com/docs/api-reference/prompt-engine/create",
      "_usage": {
            "input_tokens": 78,
            "output_tokens": 990,
            "inference_time_tokens": 5614,
            "total_tokens": 6682
      }
}
    ```
    </ResponseExample>
    
    