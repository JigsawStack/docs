
    <RequestExample>
    ```javascript Javascript
import { JigsawStack } from "jigsawstack";

const jigsaw = JigsawStack({ apiKey: "your-api-key" });

const response = await jigsaw.prompt_engine.run_prompt_direct({
      "prompt": "Tell me a story about {about}",
      "inputs": [
            {
                  "key": "about",
                  "optional": true,
                  "initial_value": "Leaning Tower of Pisa"
            }
      ],
      "return_prompt": "Return the result in a markdown format",
      "prompt_guard": [
            "sexual_content",
            "defamation"
      ],
      "input_values": {
            "about": "Santorini"
      }
})
    ```
    ```python Python
from jigsawstack import JigsawStack

jigsaw = JigsawStack(api_key="your-api-key")

response = jigsaw.prompt_engine.run_prompt_direct({
      "prompt": "Tell me a story about {about}",
      "inputs": [
            {
                  "key": "about",
                  "optional": True,
                  "initial_value": "Leaning Tower of Pisa"
            }
      ],
      "return_prompt": "Return the result in a markdown format",
      "prompt_guard": [
            "sexual_content",
            "defamation"
      ],
      "input_values": {
            "about": "Santorini"
      }
})
    ```
    ```bash Curl
curl https://api.jigsawstack.com/v1/prompt_engine/run \
 -X POST \
 -H 'Content-Type: application/json' \
 -H 'x-api-key: your-api-key' \
 -d '{"prompt":"Tell me a story about {about}","inputs":[{"key":"about","optional":true,"initial_value":"Leaning Tower of Pisa"}],"return_prompt":"Return the result in a markdown format","prompt_guard":["sexual_content","defamation"],"input_values":{"about":"Santorini"}}'
    ```
    ```php PHP
<?php
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, 'https://api.jigsawstack.com/v1/prompt_engine/run');
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'POST');
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Content-Type: application/json',
    'x-api-key: your-api-key',
]);
curl_setopt($ch, CURLOPT_POSTFIELDS, '{"prompt":"Tell me a story about {about}","inputs":[{"key":"about","optional":true,"initial_value":"Leaning Tower of Pisa"}],"return_prompt":"Return the result in a markdown format","prompt_guard":["sexual_content","defamation"],"input_values":{"about":"Santorini"}}');

$response = curl_exec($ch);

curl_close($ch);

    ```
    ```ruby Ruby
require 'net/http'
require 'json'

uri = URI('https://api.jigsawstack.com/v1/prompt_engine/run')
req = Net::HTTP::Post.new(uri)
req.content_type = 'application/json'
req['x-api-key'] = 'your-api-key'

req.body = {
  'prompt' => 'Tell me a story about {about}',
  'inputs' => [
    {
      'key' => 'about',
      'optional' => true,
      'initial_value' => 'Leaning Tower of Pisa'
    }
  ],
  'return_prompt' => 'Return the result in a markdown format',
  'prompt_guard' => [
    'sexual_content',
    'defamation'
  ],
  'input_values' => {
    'about' => 'Santorini'
  }
}.to_json

req_options = {
  use_ssl: uri.scheme == 'https'
}
res = Net::HTTP.start(uri.hostname, uri.port, req_options) do |http|
  http.request(req)
end

    ```
    ```go Go
package main

import (
	"fmt"
	"io"
	"log"
	"net/http"
	"strings"
)

func main() {
	client := &http.Client{}
	var data = strings.NewReader(`{"prompt":"Tell me a story about {about}","inputs":[{"key":"about","optional":true,"initial_value":"Leaning Tower of Pisa"}],"return_prompt":"Return the result in a markdown format","prompt_guard":["sexual_content","defamation"],"input_values":{"about":"Santorini"}}`)
	req, err := http.NewRequest("POST", "https://api.jigsawstack.com/v1/prompt_engine/run", data)
	if err != nil {
		log.Fatal(err)
	}
	req.Header.Set("Content-Type", "application/json")
	req.Header.Set("x-api-key", "your-api-key")
	resp, err := client.Do(req)
	if err != nil {
		log.Fatal(err)
	}
	defer resp.Body.Close()
	bodyText, err := io.ReadAll(resp.Body)
	if err != nil {
		log.Fatal(err)
	}
	fmt.Printf("%s\n", bodyText)
}

    ```
    ```java Java
import java.io.IOException;
import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpRequest.BodyPublishers;
import java.net.http.HttpResponse;

HttpClient client = HttpClient.newHttpClient();

HttpRequest request = HttpRequest.newBuilder()
    .uri(URI.create("https://api.jigsawstack.com/v1/prompt_engine/run"))
    .POST(BodyPublishers.ofString("{\"prompt\":\"Tell me a story about {about}\",\"inputs\":[{\"key\":\"about\",\"optional\":true,\"initial_value\":\"Leaning Tower of Pisa\"}],\"return_prompt\":\"Return the result in a markdown format\",\"prompt_guard\":[\"sexual_content\",\"defamation\"],\"input_values\":{\"about\":\"Santorini\"}}"))
    .setHeader("Content-Type", "application/json")
    .setHeader("x-api-key", "your-api-key")
    .build();

HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());

    ```
    ```swift Swift
import Foundation

let jsonData = [
    "prompt": "Tell me a story about {about}",
    "inputs": [
        [
            "key": "about",
            "optional": true,
            "initial_value": "Leaning Tower of Pisa"
        ]
    ],
    "return_prompt": "Return the result in a markdown format",
    "prompt_guard": [
        "sexual_content",
        "defamation"
    ],
    "input_values": [
        "about": "Santorini"
    ]
] as [String : Any]
let data = try! JSONSerialization.data(withJSONObject: jsonData, options: [])

let url = URL(string: "https://api.jigsawstack.com/v1/prompt_engine/run")!
let headers = [
    "Content-Type": "application/json",
    "x-api-key": "your-api-key"
]

var request = URLRequest(url: url)
request.httpMethod = "POST"
request.allHTTPHeaderFields = headers
request.httpBody = data as Data

let task = URLSession.shared.dataTask(with: request) { (data, response, error) in
    if let error = error {
        print(error)
    } else if let data = data {
        let str = String(data: data, encoding: .utf8)
        print(str ?? "")
    }
}

task.resume()

    ```
    ```dart Dart
import 'package:http/http.dart' as http;

void main() async {
  final headers = {
    'Content-Type': 'application/json',
    'x-api-key': 'your-api-key',
  };

  final data = '{"prompt":"Tell me a story about {about}","inputs":[{"key":"about","optional":true,"initial_value":"Leaning Tower of Pisa"}],"return_prompt":"Return the result in a markdown format","prompt_guard":["sexual_content","defamation"],"input_values":{"about":"Santorini"}}';

  final url = Uri.parse('https://api.jigsawstack.com/v1/prompt_engine/run');

  final res = await http.post(url, headers: headers, body: data);
  final status = res.statusCode;
  if (status != 200) throw Exception('http.post error: statusCode= $status');

  print(res.body);
}

    ```
    ```kotlin Kotlin
import java.io.IOException
import okhttp3.MediaType.Companion.toMediaType
import okhttp3.OkHttpClient
import okhttp3.Request
import okhttp3.RequestBody.Companion.toRequestBody

val client = OkHttpClient()

val MEDIA_TYPE = "application/json".toMediaType()

val requestBody = "{\"prompt\":\"Tell me a story about {about}\",\"inputs\":[{\"key\":\"about\",\"optional\":true,\"initial_value\":\"Leaning Tower of Pisa\"}],\"return_prompt\":\"Return the result in a markdown format\",\"prompt_guard\":[\"sexual_content\",\"defamation\"],\"input_values\":{\"about\":\"Santorini\"}}"

val request = Request.Builder()
  .url("https://api.jigsawstack.com/v1/prompt_engine/run")
  .post(requestBody.toRequestBody(MEDIA_TYPE))
  .header("Content-Type", "application/json")
  .header("x-api-key", "your-api-key")
  .build()

client.newCall(request).execute().use { response ->
  if (!response.isSuccessful) throw IOException("Unexpected code $response")
  response.body!!.string()
}

    ```
    ```csharp C#
using System.Net.Http.Headers;
using System.Net.Http.Json;

HttpClient client = new HttpClient();

HttpRequestMessage request = new HttpRequestMessage(HttpMethod.Post, "https://api.jigsawstack.com/v1/prompt_engine/run");
request.Headers.Add("x-api-key", "your-api-key");
request.Content = JsonContent.Create(new
{
    prompt = "Tell me a story about {about}",
    inputs = new List<object> { {"key":"about","optional":true,"initial_value":"Leaning Tower of Pisa"} },
    return_prompt = "Return the result in a markdown format",
    prompt_guard = new List<string> { "sexual_content", "defamation" },
    input_values = new
{
        about = "Santorini"
    }
});
request.Content.Headers.ContentType = new MediaTypeHeaderValue("application/json");

HttpResponseMessage response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
string responseBody = await response.Content.ReadAsStringAsync();

Console.WriteLine(responseBody);
    ```
    </RequestExample>
    <ResponseExample>
    ```json Response
{
      "success": true,
      "result": "Okay, here's a story about Santorini, formatted in Markdown:\n\n# The Whispers of Oia\n\nThe Aegean Sea, a sapphire canvas stretched taut beneath the fiery kiss of the setting sun, lapped gently against the volcanic shores of Santorini. Eleni, a young woman with eyes the color of the deep sea and hair like spun moonlight, sat perched on the edge of the caldera in Oia. The year was 2025, and while the world had changed, the timeless beauty of Santorini remained, a beacon of serenity in a turbulent world.\n\nEleni wasn't just admiring the view; she was listening. Listening to the whispers of Oia. Her grandmother, Yaya Sofia, had taught her to hear them. \"The stones remember,\" Yaya Sofia would say, her voice raspy with age and wisdom. \"They remember the Minoan eruption, the centuries of fishermen, the artists who came seeking inspiration. They whisper their stories to those who listen.\"\n\nEleni had always been skeptical, but tonight, the whispers seemed louder, clearer. She felt a pull, a connection to the past that resonated deep within her soul. She closed her eyes, letting the salty breeze caress her face.\n\n* * *\n\nThe whispers began to coalesce into a vision. She saw a young woman, her name was Ariadne, standing on the same spot, but centuries ago. Ariadne was a Minoan priestess, her face etched with worry. The earth trembled beneath her feet, and the air crackled with an unnatural energy. She knew, with a chilling certainty, that the volcano was about to unleash its fury.\n\nAriadne clutched a small, intricately carved obsidian amulet, a gift from her grandfather, a master craftsman. It was said to hold the spirit of the island, a protector against the forces of nature. She prayed to the gods, begging them to spare her people.\n\nThe vision shifted. Eleni saw the eruption, a cataclysmic event that reshaped the island forever. She felt the heat, the terror, the utter devastation. But amidst the chaos, she saw Ariadne, holding the amulet aloft, her face resolute.\n\n* * *\n\nEleni gasped, opening her eyes. The sun had dipped below the horizon, painting the sky in hues of orange, pink, and purple. The whispers faded, leaving her breathless and shaken.\n\nShe looked down at her own hand. Unconsciously, she had reached into her pocket and was clutching a small, smooth stone. It was obsidian, and as she held it, she felt a faint warmth, a connection to the vision she had just experienced.\n\nEleni knew then that Yaya Sofia was right. The stones did remember. And they were calling to her.\n\nOver the next few weeks, Eleni delved into the history of Santorini, poring over ancient texts and archaeological reports. She learned about the Minoan civilization, the eruption, and the enduring spirit of the island. She realized that the obsidian amulet Ariadne had held was more than just a trinket; it was a symbol of hope, a reminder that even in the face of unimaginable destruction, life could find a way.\n\nOne day, while exploring a hidden cove near Akrotiri, Eleni stumbled upon a small, crumbling shrine. It was overgrown with weeds and almost completely forgotten. As she cleared away the debris, she noticed a small indentation in the stone altar, perfectly sized for the obsidian amulet.\n\nEleni knew what she had to do. She took the obsidian stone from her pocket and placed it in the indentation. As she did, a wave of energy washed over her. She felt a sense of peace, a feeling of connection to the island and its history.\n\nThe whispers of Oia were no longer just whispers. They were a song, a celebration of resilience, a testament to the enduring power of the human spirit. Eleni, the young woman who had listened, had become a part of the story, a guardian of the island's secrets, forever bound to the whispers of Santorini. She knew her purpose now: to protect the island's history and share its stories with the world, ensuring that the whispers of Oia would never be silenced.\n",
      "message": "It is recommended to store the prompt engine and execute it using the ID rather than running it directly for the best performance and reliability. Learn more: https://jigsawstack.com/docs/api-reference/prompt-engine/create",
      "_usage": {
            "input_tokens": 67,
            "output_tokens": 1053,
            "inference_time_tokens": 6718,
            "total_tokens": 7838
      }
}
    ```
    </ResponseExample>
    
    