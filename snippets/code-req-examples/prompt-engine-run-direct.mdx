
    <RequestExample>
    ```javascript Javascript
import { JigsawStack } from "jigsawstack";

const jigsaw = JigsawStack({ apiKey: "your-api-key" });

const response = await jigsaw.prompt_engine.run_direct({
      "prompt": "Tell me a story about {about}",
      "inputs": [
            {
                  "key": "about",
                  "optional": false,
                  "initial_value": "Leaning Tower of Pisa"
            }
      ],
      "return_prompt": "Return the result in a markdown format",
      "prompt_guard": [
            "sexual_content",
            "defamation"
      ],
      "input_values": {
            "about": "Santorini"
      }
})
    ```
    ```python Python
from jigsawstack import JigsawStack

jigsaw = JigsawStack(api_key="your-api-key")

response = jigsaw.prompt_engine.run_direct({
      "prompt": "Tell me a story about {about}",
      "inputs": [
            {
                  "key": "about",
                  "optional": false,
                  "initial_value": "Leaning Tower of Pisa"
            }
      ],
      "return_prompt": "Return the result in a markdown format",
      "prompt_guard": [
            "sexual_content",
            "defamation"
      ],
      "input_values": {
            "about": "Santorini"
      }
})
    ```
    ```bash Curl
curl https://api.jigsawstack.com/v1/prompt_engine/run \
 -X POST \
 -H "Content-Type: application/json" \
 -H "x-api-key: your-api-key" \
 -d "{\"prompt\":\"Tell me a story about {about}\",\"inputs\":[{\"key\":\"about\",\"optional\":false,\"initial_value\":\"Leaning Tower of Pisa\"}],\"return_prompt\":\"Return the result in a markdown format\",\"prompt_guard\":[\"sexual_content\",\"defamation\"],\"input_values\":{\"about\":\"Santorini\"}}"
    ```
    ```php PHP
<?php
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, 'https://api.jigsawstack.com/v1/prompt_engine/run');
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'POST');
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Content-Type: application/json',
    'x-api-key: your-api-key',
]);
curl_setopt($ch, CURLOPT_POSTFIELDS, '{"prompt":"Tell me a story about {about}","inputs":[{"key":"about","optional":false,"initial_value":"Leaning Tower of Pisa"}],"return_prompt":"Return the result in a markdown format","prompt_guard":["sexual_content","defamation"],"input_values":{"about":"Santorini"}}');

$response = curl_exec($ch);

curl_close($ch);

    ```
    ```ruby Ruby
require 'net/http'
require 'json'

uri = URI('https://api.jigsawstack.com/v1/prompt_engine/run')
req = Net::HTTP::Post.new(uri)
req.content_type = 'application/json'
req['x-api-key'] = 'your-api-key'

req.body = {
  'prompt' => 'Tell me a story about {about}',
  'inputs' => [
    {
      'key' => 'about',
      'optional' => false,
      'initial_value' => 'Leaning Tower of Pisa'
    }
  ],
  'return_prompt' => 'Return the result in a markdown format',
  'prompt_guard' => [
    'sexual_content',
    'defamation'
  ],
  'input_values' => {
    'about' => 'Santorini'
  }
}.to_json

req_options = {
  use_ssl: uri.scheme == 'https'
}
res = Net::HTTP.start(uri.hostname, uri.port, req_options) do |http|
  http.request(req)
end

    ```
    ```go Go
package main

import (
	"fmt"
	"io"
	"log"
	"net/http"
	"strings"
)

func main() {
	client := &http.Client{}
	var data = strings.NewReader(`{"prompt":"Tell me a story about {about}","inputs":[{"key":"about","optional":false,"initial_value":"Leaning Tower of Pisa"}],"return_prompt":"Return the result in a markdown format","prompt_guard":["sexual_content","defamation"],"input_values":{"about":"Santorini"}}`)
	req, err := http.NewRequest("POST", "https://api.jigsawstack.com/v1/prompt_engine/run", data)
	if err != nil {
		log.Fatal(err)
	}
	req.Header.Set("Content-Type", "application/json")
	req.Header.Set("x-api-key", "your-api-key")
	resp, err := client.Do(req)
	if err != nil {
		log.Fatal(err)
	}
	defer resp.Body.Close()
	bodyText, err := io.ReadAll(resp.Body)
	if err != nil {
		log.Fatal(err)
	}
	fmt.Printf("%s\n", bodyText)
}

    ```
    ```java Java
import java.io.IOException;
import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpRequest.BodyPublishers;
import java.net.http.HttpResponse;

HttpClient client = HttpClient.newHttpClient();

HttpRequest request = HttpRequest.newBuilder()
    .uri(URI.create("https://api.jigsawstack.com/v1/prompt_engine/run"))
    .POST(BodyPublishers.ofString("{\"prompt\":\"Tell me a story about {about}\",\"inputs\":[{\"key\":\"about\",\"optional\":false,\"initial_value\":\"Leaning Tower of Pisa\"}],\"return_prompt\":\"Return the result in a markdown format\",\"prompt_guard\":[\"sexual_content\",\"defamation\"],\"input_values\":{\"about\":\"Santorini\"}}"))
    .setHeader("Content-Type", "application/json")
    .setHeader("x-api-key", "your-api-key")
    .build();

HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());

    ```
    ```swift Swift
import Foundation

let jsonData = [
    "prompt": "Tell me a story about {about}",
    "inputs": [
        [
            "key": "about",
            "optional": false,
            "initial_value": "Leaning Tower of Pisa"
        ]
    ],
    "return_prompt": "Return the result in a markdown format",
    "prompt_guard": [
        "sexual_content",
        "defamation"
    ],
    "input_values": [
        "about": "Santorini"
    ]
] as [String : Any]
let data = try! JSONSerialization.data(withJSONObject: jsonData, options: [])

let url = URL(string: "https://api.jigsawstack.com/v1/prompt_engine/run")!
let headers = [
    "Content-Type": "application/json",
    "x-api-key": "your-api-key"
]

var request = URLRequest(url: url)
request.httpMethod = "POST"
request.allHTTPHeaderFields = headers
request.httpBody = data as Data

let task = URLSession.shared.dataTask(with: request) { (data, response, error) in
    if let error = error {
        print(error)
    } else if let data = data {
        let str = String(data: data, encoding: .utf8)
        print(str ?? "")
    }
}

task.resume()

    ```
    ```dart Dart
import 'package:http/http.dart' as http;

void main() async {
  final headers = {
    'Content-Type': 'application/json',
    'x-api-key': 'your-api-key',
  };

  final data = '{"prompt":"Tell me a story about {about}","inputs":[{"key":"about","optional":false,"initial_value":"Leaning Tower of Pisa"}],"return_prompt":"Return the result in a markdown format","prompt_guard":["sexual_content","defamation"],"input_values":{"about":"Santorini"}}';

  final url = Uri.parse('https://api.jigsawstack.com/v1/prompt_engine/run');

  final res = await http.post(url, headers: headers, body: data);
  final status = res.statusCode;
  if (status != 200) throw Exception('http.post error: statusCode= $status');

  print(res.body);
}

    ```
    ```kotlin Kotlin
import java.io.IOException
import okhttp3.MediaType.Companion.toMediaType
import okhttp3.OkHttpClient
import okhttp3.Request
import okhttp3.RequestBody.Companion.toRequestBody

val client = OkHttpClient()

val MEDIA_TYPE = "application/json".toMediaType()

val requestBody = "{\"prompt\":\"Tell me a story about {about}\",\"inputs\":[{\"key\":\"about\",\"optional\":false,\"initial_value\":\"Leaning Tower of Pisa\"}],\"return_prompt\":\"Return the result in a markdown format\",\"prompt_guard\":[\"sexual_content\",\"defamation\"],\"input_values\":{\"about\":\"Santorini\"}}"

val request = Request.Builder()
  .url("https://api.jigsawstack.com/v1/prompt_engine/run")
  .post(requestBody.toRequestBody(MEDIA_TYPE))
  .header("Content-Type", "application/json")
  .header("x-api-key", "your-api-key")
  .build()

client.newCall(request).execute().use { response ->
  if (!response.isSuccessful) throw IOException("Unexpected code $response")
  response.body!!.string()
}

    ```
    ```csharp C#
using System.Net.Http;
using System.Net.Http.Headers;

HttpClient client = new HttpClient();

HttpRequestMessage request = new HttpRequestMessage(HttpMethod.Post, "https://api.jigsawstack.com/v1/prompt_engine/run");

request.Headers.Add("x-api-key", "your-api-key");

request.Content = new StringContent("{\"prompt\":\"Tell me a story about {about}\",\"inputs\":[{\"key\":\"about\",\"optional\":false,\"initial_value\":\"Leaning Tower of Pisa\"}],\"return_prompt\":\"Return the result in a markdown format\",\"prompt_guard\":[\"sexual_content\",\"defamation\"],\"input_values\":{\"about\":\"Santorini\"}}");
request.Content.Headers.ContentType = new MediaTypeHeaderValue("application/json");

HttpResponseMessage response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
string responseBody = await response.Content.ReadAsStringAsync();

    ```
    </RequestExample>
    <ResponseExample>
    ```json Response
{
      "success": true,
      "result": "Okay, here's a story about Santorini, set with the current time in mind:\n\n***\n\nThe Aegean wind, a playful but persistent force, whipped Eleni's hair across her face as she stood on the caldera's edge in Oia. The time, according to her phone, was 2025-04-11T21:59:57.881Z. Almost midnight. The sky, a deep indigo canvas, was sprinkled with a million stars, each a tiny diamond reflecting in the inky black sea far below.\n\nEleni wasn't a tourist. She was a local, born and raised in the shadow of the volcano that had shaped this dramatic island. Her family had been winemakers for generations, their vineyards clinging precariously to the volcanic slopes, producing the unique Assyrtiko wine that was the lifeblood of Santorini.\n\nTonight, though, she wasn't thinking about grapes or harvests. She was thinking about her grandfather, Yiannis, who had passed away just a few weeks ago. Yiannis had been the keeper of the island's stories, the one who remembered the old ways, the myths whispered on the wind. He had told her countless tales of the Minoan eruption, the cataclysm that had created the caldera, and the legends of Atlantis, said to be buried beneath the waves.\n\nHe had also told her about the \"Whispering Stones.\" According to Yiannis, certain rocks on the island, particularly those near the ancient Akrotiri site, held echoes of the past. If you listened closely enough, especially at the witching hour, you could hear the whispers of the Minoans, the echoes of their lives before the volcano swallowed their world.\n\nSkeptical but curious, Eleni had come to Oia, to a secluded spot overlooking the caldera, a place Yiannis had often visited. She found a smooth, dark rock, warm from the day's sun, and sat down, closing her eyes.\n\nThe wind howled, a mournful song. At first, she heard only the familiar sounds of the island: the distant barking of a dog, the gentle lapping of waves against the shore, the faint hum of a generator from a nearby village.\n\nThen, as the minutes ticked by, something shifted. The wind seemed to soften, and a new sound emerged, faint and ethereal. It was a murmur, a chorus of voices speaking in a language she didn't understand, yet somehow felt in her bones.\n\nShe strained to listen, her heart pounding. The voices rose and fell, weaving a tapestry of sound. She heard laughter, the clinking of pottery, the rhythmic beat of drums. She imagined the bustling streets of Akrotiri, the vibrant colors of the frescoes, the lives of the people who had lived and loved on this island so long ago.\n\nSuddenly, a single voice, clear and distinct, cut through the murmur. It spoke in Greek, ancient Greek, but she understood it nonetheless.\n\n\"Remember us,\" the voice whispered. \"Remember our stories. Remember the beauty that was, and the resilience that remains.\"\n\nTears streamed down Eleni's face. She didn't know if it was the wind playing tricks on her, or if she was truly hearing the echoes of the past. But in that moment, she felt a profound connection to her ancestors, to the island, to the history that was woven into the very fabric of Santorini.\n\nAs the first hint of dawn began to paint the sky with streaks of pink and orange, the whispers faded. Eleni stood up, feeling a sense of peace she hadn't felt since Yiannis's passing. She knew that his stories, and the stories of the island, would live on, carried on the wind, whispered by the stones, and remembered in her heart. The volcano might have shaped the land, but the people, past and present, had shaped its soul. And that soul, she knew, would endure.\n",
      "message": "It is recommended to store the prompt engine and execute it using the ID rather than running it directly for the best performance and reliability. Learn more: https://jigsawstack.com/docs/api-reference/prompt-engine/create"
}
    ```
    </ResponseExample>
    
    